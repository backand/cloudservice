<div class="modal-header">
  <h3 class="modal-title">
    {{EditRow.editRowData.id ? 'Edit Row (Id: ' + EditRow.editRowData.id + ')': 'New Row'}}
  </h3>
</div>
<div class="modal-body edit-row-modal">
  <form role="form" ng-submit="EditRow.saveRow()" name="EditRow.editRowForm" novalidate>
    <fieldset>
      <div class="form-group" ng-repeat="item in EditRow.editRowData.entities" ng-if="!item.hide">
        <label for="{{item.key}}_{{item.type}}">
          {{EditRow.getLabel(item.key)}}<span ng-if="item.required"> *</span>
        </label>
        <div ng-switch on="item.type">

          <input ng-switch-when="text" type="text"
                 class="form-control"
                 id="{{item.key}}_text"
                 name="item.key"
                 ng-model="item.value"
                 ng-required="item.required"
                 ng-disabled="item.disable"/>

          <textarea ng-switch-when="textarea"
                    class="form-control"
                    id="{{item.key}}_textarea"
                    name="item.key" ng-model="item.value"
                    ng-required="item.required"
                    ng-disabled="item.disable"/>

          <input ng-switch-when="checkbox" type="checkbox"
                 class="form-control"
                 id="{{item.key}}_checkbox"
                 name="item.key"
                 ng-model="item.value"
                 ng-required="item.required"
                 ng-disabled="item.disable"/>

          <div ng-switch-when="dateTime">
            <input type="date"
                   class="editable-has-buttons editable-input form-control"
                   ng-model="item.value"
                   ng-required="item.required"
                   ng-disabled="item.disable" />
            <input type="time"
                   class="editable-has-buttons editable-input form-control"
                   ng-model="item.value"
                   ng-required="item.required"
                   ng-disabled="item.disable" />
          </div>
          <input ng-switch-when="SingleSelect"
                 type="text"
                 ng-model="item.value"
                 typeahead="row.value as row.value + '. ' + row.label for row in EditRow.getAutocomplete(item.key, $viewValue)"
                 typeahead-editable="false"
                 class="form-control">

          <input ng-switch-when="MultiSelect"
                 type="text"
                 ng-model="item.value"
                 typeahead="row.value as row.value + '. ' + row.label for row in EditRow.getMultiAutocomplete(item.key, $viewValue, item)"
                 typeahead-editable="false"
                 typeahead-on-select="EditRow.onMultiSelect(item, $model)"
                 class="form-control">
        </div>
      </div>
    </fieldset>
  </form>
</div>
<div class="modal-footer">
  <button class="btn btn-success"
          ladda="EditRow.savingRow"
          ng-click="EditRow.saveRow()"
          ng-disabled="EditRow.editRowForm.$invalid">
    Save
  </button>
  <button class="btn btn-success"
          ladda="EditRow.savingRow"
          ng-click="EditRow.saveAndNew()"
          ng-if="!EditRow.editRowData.id"
          ng-disabled="EditRow.editRowForm.$invalid">
    Save & New
  </button>
  <button class="btn btn-default"
          ng-click="EditRow.cancelEditRow()">
    Cancel
  </button>
</div>
