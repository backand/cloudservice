<div id="aws-access-key" data-ng-if="$ctrl.provider.awsType === 'ACCESS_KEY'">
  <div class="provider-modal-header">
    <h3 class="m-t-0 header-title">Obtaining your Access and Secret Keys</h3>
  </div>
  <div class="form-group">
    <p class="text first">Connect Back& to your AWS S3 using AWS CloudFormation to create a restricted IAM
      user.
    </p>

    <p class="text"> Run this command using the <a href="https://aws.amazon.com/cli" target="_blank">AWS CLI</a> and we create an
      IAM user that has access to your S3:</p>

    <pre><code>aws cloudformation create-stack --template-url https://s3.amazonaws.com/cdn.backand.net/cf/1/backand-s3-ak --stack-name createbackandS3user --capabilities CAPABILITY_IAM</code></pre>

    <p class="text">Once the IAM user has been created, use this command to obtain the user's access and secret keys, then copy these
      values into the fields below:
      <pre><code>aws cloudformation describe-stacks --stack-name createbackandS3user</code></pre>
    </p>
    <p class="text">You can also use other AWS tools to create the connection -
      <ba-help-link key="LLSettingIAM" with-text="learn more"></ba-help-link>
    </p>
  </div>
  <div class="form-group">
    <div class="alert alert-warning">
      Backand takes security very seriously - all credentials entered are encrypted, and never used for any purpose other than
      executing your Lambda functions. You can permanently revoke our access at any time by deleting the IAM credentials.
      If you would like further assistance in setting up the security policy, <a href="https://www.backand.com/contact"
        target="_blank">please contact us</a>.
    </div>
  </div>
</div>

<div id="aws-cross-account" data-ng-if="$ctrl.provider.awsType === 'CROSS_ACCOUNT_ACCESS'">
  <div class="provider-modal-header">
    <h3 class="m-t-0 header-title">Creating Cross-Account Access</h3>
  </div>
  <div class="form-group">
    <p class="text first">Follow these steps to get your AWS Account ID:</p>
    <div class="text p-x-md">
      <ul>
        <li>Navigate to the AWS Console for your region.</li>
        <li>In the top navigation bar, select <strong>Support</strong>, then <strong>Support Center</strong>.</li>
        <li>Your AWS Account ID is located in the upper-right-hand corner, immediately below the <strong>Support</strong> menu. It is a 12-digit number.</li>
      </ul>
    </div>
    <h4 id="aws-cli">AWS CLI</h4>
    <p class="text">Using CloudFormation, we'll create a stack that we'll use to drive cross-account integration with Back&. Use the following AWS CLI command to get started:</p>
    <div class="text">
      <pre><code>aws cloudformation create-stack --template-url https://s3.amazonaws.com/cdn.backand.net/cf/1/backand-s3-ca --parameters ParameterKey=ExternalId,ParameterValue=bknd_{{$ctrl.tokens.general}} --stack-name createBkndCrossAccessS3 --capabilities CAPABILITY_NAMED_IAM</code></pre>
    </div>
    <h4 id="aws-management-console">AWS Management Console</h4>

    <p class="text">You can also use other AWS tools to create the connection -
      <ba-help-link key="LLSettingCrossAccount" with-text="learn more"></ba-help-link>
    </p>
  </div>
  <div class="form-group">
    <div class="alert alert-warning">
            Back& takes your security very seriously - all credentials entered are encrypted, and never used for any purpose other than using the resources to which you have granted Back& access. You can permanently revoke our access at any time by deleting the principal credentials. If you would like further assistance in setting up the security policy, <a href="https://www.backand.com/contact" target="_blank">please contact us</a>.
    </div>
  </div>
</div>